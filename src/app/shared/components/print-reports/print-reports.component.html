<h1 mat-dialog-title>Berichte drucken</h1>
<p>Ereignis: {{ ereignis?.type == EreignisType.Uebung ? 'Übung' : 'Einsatz' }}{{ ereignis?.ort ? ' in '+ ereignis?.ort : '' }}</p>
<div class="content" mat-dialog-content>
    Auswahl
</div>

<div #printContent>
    <div class="print">
        <div class="print-content">
            <div class="report" *ngFor="let report of reports">

                <!-- Header - Everywhere -->
                <div class="header">
                    <h1>Füllbericht <span>der Atemluftfüllstelle Gemeinlebarn</span> </h1>
                    <p>{{ report.name }}</p>
                    <table>
                        <tbody>
                            <tr>
                                <th>Ereignis:</th>
                                <td>{{ ereignis?.type == EreignisType.Uebung ? 'Übung' : 'Einsatz' }}{{ ereignis?.ort ? ' in '+ ereignis?.ort : '' }}</td>
                            </tr>
                            <tr>
                                <th>Beginn:</th>
                                <td>{{ ereignis?.datetimeStart | date: 'dd.MM.yyyy HH:mm' }} Uhr</td>
                            </tr>
                            <tr>
                                <th>Ende:</th>
                                <td>{{ ereignis?.datetimeEnd | date: 'dd.MM.yyyy HH:mm' }}{{ ereignis?.datetimeEnd ? ' Uhr' : 'läuft noch' }}</td>
                            </tr>
                            <tr>
                                <th>Füllersonal:</th>
                                <td>
                                    <span *ngFor="let person of ereignis?.personen; let last = last;">{{ person.vorname }} {{ person.nachname }}{{ last ? '' : ', ' }}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2>Füllungen</h2>

                <div class="fuellung" *ngFor="let feuerwehr of report.data">
                    <h3>{{ feuerwehr.prefix }} {{ feuerwehr.name }}</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Datum & Uhrzeit</th>
                                <th>Feuerwehr</th>
                                <th>LFNR</th>
                                <th>Barcode</th>
                                <th>Druck</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let fuellung of feuerwehr.fuellungen">
                                <td>{{ fuellung.datetime | date: 'dd.MM.yyyy HH:mm' }} Uhr</td>
                                <td>{{ fuellung.flasche.feuerwehr.prefix }} {{ fuellung.flasche.feuerwehr.name }}</td>
                                <td>{{ fuellung.flasche.laufnummer }}</td>
                                <td>{{ fuellung.flasche.barcode }}</td>
                                <td>{{ fuellung.flasche.druck }} Bar</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="unterschrift">
                    &nbsp;
                    <span>Unterschrift des Füllpersonals</span>
                </div>
            </div>
        </div>
    </div>


</div>

<div mat-dialog-actions>
    <button mat-button (click)="close()">Abbrechen</button>
    <button mat-button (click)="print()" cdkFocusInitial>Drucken</button>
</div>
